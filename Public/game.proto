/// 客户端和服务器之间的协议定义

package Cmd;

import "public.proto";


/// 返回需要连接的逻辑服务器信息
message cmdNotifyLogicInfo
{
	required string ip = 1;
	required uint32 port = 2;
}


/// 请求登录
message cmdRequestLogin
{
	required string uniqueid = 1;
}


/// 返回登录结果 
message cmdNotifyLoginResult
{
	required uint64 tempid = 1;
}


/// 创建房间返回
message cmdNotifyCreateResult
{
	required bool isok = 1;
	optional uint64 roomid = 2;
	optional string ip = 3;
	optional uint32 port = 4;
}


/// 加入房间
message cmdRequestEnterRoom
{
	required uint64 roomid = 1;
}


/// 加入房间返回
message cmdNotifyEnterResult
{
	required bool isok = 1;
	optional string ip = 2;
	optional uint32 port = 3;
}


/// 下发房间信息
message cmdNotifyRoomList
{
	repeated stRoomInfo info = 1;
}


/// 增加收听通道
message cmdAddVoiceUser
{
	repeated stVoiceUserInfo info = 1;
}

/// 返回麦序
message cmdNotifyMicQueue
{
	repeated stMicInfo info = 1;
}

/// 谁拿到了当前的麦
message cmdTakeMic
{
	required uint64 tempid = 1;
	required uint32 mtime = 2;
}